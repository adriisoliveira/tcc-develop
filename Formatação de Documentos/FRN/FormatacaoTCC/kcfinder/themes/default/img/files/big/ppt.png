e.FieldType||(e.FieldType={}));var n=function(){function n(){}return n.serialize=function(e){var t=n._serializeObject(e,"root");return JSON.stringify(t)},n._serializeObject=function(i,o){var a="__aiCircularRefCheck",r={};if(!i)return e._InternalLogging.throwInternal(e.LoggingSeverity.CRITICAL,e._InternalMessageId.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:o},!0),r;if(i[a])return e._InternalLogging.throwInternal(e.LoggingSeverity.WARNING,e._InternalMessageId.CircularReferenceDetected,"Circular reference detected while serializing object",{name:o},!0),r;if(!i.aiDataContract){if("measurements"===o)r=n._serializeStringMap(i,"number",o);else if("properties"===o)r=n._serializeStringMap(i,"string",o);else if("tags"===o)r=n._serializeStringMap(i,"string",o);else if(e.Util.isArray(i))r=n._serializeArray(i,o);else{e._InternalLogging.throwInternal(e.LoggingSeverity.WARNING,e._InternalMessageId.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{JSON.stringify(i),r=i}catch(s){e._InternalLogging.throwInternal(e.LoggingSeverity.CRITICAL,e._InternalMessageId.CannotSerializeObject,s&&"function"==typeof s.toString?s.toString():"Error serializing object",null,!0)}}return r}i[a]=!0;for(var c in i.aiDataContract){var l=i.aiDataContract[c],d="function"==typeof l?l()&t.Required:l&t.Required,u="function"==typeof l?l()&t.Hidden:l&t.Hidden,p=l&t.Array,f=void 0!==i[c],g="object"==typeof i[c]&&null!==i[c];if(!d||f||p){if(!u){var m;m=g?p?n._serializeArray(i[c],c):n._serializeObject(i[c],c):i[c],void 0!==m&&(r[c]=m)}}else e._InternalLogging.throwInternal(e.LoggingSeverity.CRITICAL,e._InternalMessageId.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:c,name:o})}return delete i[a],r},n._serializeArray=function(t,i){var o=void 0;if(t)if(e.Util.isArray(t)){o=[];for(var a=0;a<t.length;a++){var r=t[a],s=n._serializeObject(r,i+"["+a+"]");o.push(s)}}else e._InternalLogging.throwInternal(e.LoggingSeverity.CRITICAL,e._InternalMessageId.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:i},!0);return o},n._serializeStringMap=function(t,n,i){var o=void 0;if(t){o={};for(var a in t){var r=t[a];if("string"===n)void 0===r?o[a]="undefined":null===r?o[a]="null":r.toString?o[a]=r.toString():o[a]="invalid field: t